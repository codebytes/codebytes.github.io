/* Custom CSS for card alignment and consistent heights */

/* Make article content wider for better readability */
.article-content.max-w-prose,
#single_header.max-w-prose,
footer.max-w-prose {
  max-width: 80ch !important; /* Wider than default prose (65ch) */
}

/* Make grid items stretch to equal heights */
section.grid {
  align-items: stretch !important;
}

/* Make all cards in a grid row the same height */
section.grid > a {
  display: flex !important;
  flex-direction: column !important;
  height: 100% !important;
  min-height: 0 !important;
}

section.grid > a > div {
  display: flex !important;
  flex-direction: column !important;
  width: 100% !important;
  height: 100% !important;
  min-height: 0 !important;
}

@media (min-width: 640px) {
  section.grid > a,
  section.grid > a > div {
    min-height: 26.5rem !important;
  }
}

/* Ensure card content area fills available space and pushes footer down */
section.grid > a > div > .px-6.py-4 {
  flex-grow: 1 !important;
  display: flex !important;
  flex-direction: column !important;
  min-height: 0 !important;
}

/* Limit summary text to 3 lines for consistent card heights */
section.grid .prose {
  display: -webkit-box !important;
  -webkit-line-clamp: 3 !important;
  -webkit-box-orient: vertical !important;
  overflow: hidden !important;
  line-clamp: 3 !important;
  max-height: 4.5rem !important;
  min-height: 4.5rem !important;
}

/* Hide any figures that appear in the card summary prose */
section.grid .prose figure {
  display: none !important;
}

/* Hide headings inside card prose summaries */
section.grid .prose h1,
section.grid .prose h2,
section.grid .prose h3,
section.grid .prose h4 {
  display: none !important;
}

/* Fix card title to max 2 lines */
section.grid .font-bold.text-xl {
  display: -webkit-box !important;
  -webkit-line-clamp: 2 !important;
  -webkit-box-orient: vertical !important;
  overflow: hidden !important;
  min-height: 3.5rem !important;
  line-clamp: 2 !important;
}

/* Ensure consistent thumbnail height - fit images without cropping */
.thumbnail_card {
  min-height: 200px !important;
  max-height: 200px !important;
  background-size: contain !important;
  background-position: center !important;
  background-repeat: no-repeat !important;
}

/* Make article card images contain instead of cover (no cropping) */
section.grid .thumbnail_card img.object-cover,
section.grid a > div > div:first-child img.object-cover,
.thumbnail_card img.object-cover,
img.object-cover.nozoom {
  object-fit: contain !important;
  padding: 0.5rem !important;
}

/* Light mode: white background for card images to match card body */
section.grid .thumbnail_card,
section.grid a > div > div:first-child {
  background-color: #ffffff !important;
}

/* Dark mode: subtle dark background for card images */
.dark section.grid .thumbnail_card,
.dark section.grid a > div > div:first-child {
  background-color: #1e293b !important;
}

/* Limit tags display to one line */
section.grid .text-sm.text-neutral-500 {
  min-height: 4rem !important;
  max-height: 4rem !important;
  overflow: hidden !important;
}

/* Hide excess tags that would cause overflow */
section.grid .flex.flex-wrap {
  min-height: 1.75rem !important;
  max-height: 1.75rem !important;
  overflow: hidden !important;
}

/* ===== Article Content Image Sizing ===== */

/* Default max size for images in article content */
.article-content figure {
  max-width: 100% !important;
  margin: 1.5rem auto !important;
}

/* Constrain standalone logos/icons to reasonable size */
.article-content figure img {
  max-height: 200px !important;
  width: auto !important;
  height: auto !important;
  margin: 0 auto !important;
  display: block !important;
}

/* Allow larger images for screenshots/diagrams with specific class */
.article-content figure.full-width img {
  max-height: none !important;
  max-width: 100% !important;
}

/* Medium sized images */
.article-content figure.medium img {
  max-height: 300px !important;
}

/* Small images for icons/logos */
.article-content figure.small img {
  max-height: 150px !important;
}

/* Extra small for tiny icons */
.article-content figure.xs img {
  max-height: 80px !important;
}
